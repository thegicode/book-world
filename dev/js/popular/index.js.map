{
  "version": 3,
  "sources": ["../../../app/scripts/utils/CustomEventEmitter.ts", "../../../app/scripts/utils/CustomFetch.ts", "../../../node_modules/intersection-observer/intersection-observer.js", "../../../app/scripts/modules/store.ts", "../../../app/scripts/components/NavGnb.ts", "../../../app/scripts/modules/model.ts", "../../../app/scripts/modules/events.ts", "../../../app/scripts/components/CategorySelector.ts", "../../../app/scripts/utils/helpers.ts", "../../../app/scripts/pages/popular/Popular.ts", "../../../app/scripts/pages/popular/PopularHeader.ts", "../../../app/scripts/pages/popular/index.ts"],
  "sourcesContent": ["class CustomEventEmitter<T extends ICustomEventDetail> {\n    private _bus: HTMLElement;\n\n    constructor() {\n        this._bus = document.createElement(\"div\");\n    }\n\n    add(event: string, callback: (event: ICustomEvent<T>) => void): void {\n        this._bus.addEventListener(\n            event,\n            callback as EventListenerOrEventListenerObject\n        );\n    }\n\n    remove(event: string, callback: (event: ICustomEvent<T>) => void): void {\n        this._bus.removeEventListener(\n            event,\n            callback as EventListenerOrEventListenerObject\n        );\n    }\n\n    dispatch(event: string, detail: T = {} as T): void {\n        this._bus.dispatchEvent(new CustomEvent(event, { detail }));\n    }\n}\n\nexport default new CustomEventEmitter();\n", "\nclass CustomFetch {\n    defaultOptions: RequestInit\n\n    constructor(baseOptions: RequestInit = {}) {\n        this.defaultOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                // 'Authorization': `Bearer ${getToken()}`\n            },\n            ...baseOptions\n        }\n    }\n\n    async fetch<T = unknown>(url: string, options?: RequestInit): Promise<T> {\n        const finalOptions: RequestInit & { timeout?: number} = {\n            ...this.defaultOptions,\n            ...options,\n            timeout: 5000\n        }\n        try {\n            const response = await fetch(url, finalOptions)\n            if (!response.ok) {\n                throw new Error(`Http error! status: ${response.status}, message: ${response.statusText}`)\n            } \n            const data = await response.json()\n            return data as T\n        } catch(error: unknown) {\n            console.error(`Error fetching data: ${error}`)\n            throw new Error(`Error fetching data: ${error}`)\n\n        }\n    }\n}\n\nexport default new CustomFetch()\n", "/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n/**\n * A local reference to the root document.\n */\nvar document = (function(startDoc) {\n  var doc = startDoc;\n  var frame = getFrameElement(doc);\n  while (frame) {\n    doc = frame.ownerDocument;\n    frame = getFrameElement(doc);\n  }\n  return doc;\n})(window.document);\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (\n    options.root &&\n    options.root.nodeType != 1 &&\n    options.root.nodeType != 9\n  ) {\n    throw new Error('root must be a Document or Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var rootBounds = null;\n    if (!this._rootContainsTarget(target)) {\n      rootBounds = getEmptyRect();\n    } else if (!crossOriginUpdater || this.root) {\n      rootBounds = rootRect;\n    }\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootBounds,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root && !isDoc(this.root)) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var doc = isDoc(this.root) ? this.root : document;\n    var html = doc.documentElement;\n    var body = doc.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  return (\n    containsDeep(rootDoc, target) &&\n    (!this.root || rootDoc == target.ownerDocument)\n  );\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detachEvent == 'function') {\n    node.detachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  // If the parent has element that is assigned through shadow root slot\n  if (parent && parent.assignedSlot) {\n    parent = parent.assignedSlot.parentNode\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  return parent;\n}\n\n/**\n * Returns true if `node` is a Document.\n * @param {!Node} node\n * @returns {boolean}\n */\nfunction isDoc(node) {\n  return node && node.nodeType === 9;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n", "const cloneDeep = <T>(obj: T): T => {\n    return JSON.parse(JSON.stringify(obj));\n};\n\nconst STORAGE_NAME = \"BookWorld\";\n\nconst initialState: IStorageData = {\n    libraries: {},\n    regions: {},\n    category: {},\n    categorySort: [],\n};\n\nconst store: IStore = {\n    listeners: [],\n\n    subscribe(listener) {\n        this.listeners.push(listener);\n    },\n\n    unsubscribe(callback) {\n        this.listeners = this.listeners.filter(\n            (subscriber) => subscriber !== callback\n        );\n    },\n\n    notify() {\n        this.listeners.forEach((listener) => listener());\n    },\n\n    get storage() {\n        try {\n            const storageData = localStorage.getItem(STORAGE_NAME);\n            const state =\n                storageData === null ? this.state : JSON.parse(storageData);\n            return cloneDeep(state);\n        } catch (error) {\n            console.error(error);\n            throw new Error(\"Failed to get state from localStorage.\");\n        }\n    },\n\n    set storage(newState) {\n        try {\n            localStorage.setItem(STORAGE_NAME, JSON.stringify(newState));\n        } catch (error) {\n            console.error(error);\n        }\n    },\n\n    get state() {\n        return cloneDeep(this.storage);\n    },\n\n    set state(newState) {\n        this.storage = newState;\n    },\n\n    get category() {\n        return cloneDeep(this.state.category);\n    },\n\n    set category(newCategory) {\n        const newState = this.state;\n        newState.category = newCategory;\n        this.state = newState;\n    },\n\n    get categorySort() {\n        return cloneDeep(this.state.categorySort);\n    },\n    set categorySort(newSort) {\n        const newState = this.state;\n        newState.categorySort = newSort;\n        this.state = newState;\n    },\n\n    get libraries() {\n        return cloneDeep(this.state.libraries);\n    },\n\n    set libraries(newLibries) {\n        const newState = this.state;\n        newState.libraries = newLibries;\n        this.state = newState;\n    },\n\n    get regions() {\n        return cloneDeep(this.state.regions);\n    },\n    set regions(newRegions) {\n        const newState = this.state;\n        newState.regions = newRegions;\n        this.state = newState;\n        // console.log(this.regions);\n    },\n\n    resetState() {\n        this.storage = initialState;\n    },\n\n    // Category, CategorySort\n    addCategory(name) {\n        const newCategory = this.category;\n        newCategory[name] = [];\n        this.category = newCategory;\n    },\n\n    addCategorySort(name) {\n        const newCategorySort = this.categorySort;\n        newCategorySort.push(name);\n        this.categorySort = newCategorySort;\n    },\n\n    hasCategory(name) {\n        return name in this.category;\n    },\n\n    renameCategory(prevName, newName) {\n        const newCategory = this.category;\n        newCategory[newName] = newCategory[prevName];\n        delete newCategory[prevName];\n        this.category = newCategory;\n    },\n\n    renameCategorySort(prevName, newName) {\n        const newCategorySort = this.categorySort;\n        const index = newCategorySort.indexOf(prevName);\n        newCategorySort[index] = newName;\n        this.categorySort = newCategorySort;\n    },\n\n    deleteCategory(name) {\n        const newFavorites = this.category;\n        delete newFavorites[name];\n        this.category = newFavorites;\n    },\n\n    changeCategory(draggedKey, targetKey) {\n        const newSort = this.categorySort;\n        const draggedIndex = newSort.indexOf(draggedKey);\n        const targetIndex = newSort.indexOf(targetKey);\n        newSort[targetIndex] = draggedKey;\n        newSort[draggedIndex] = targetKey;\n\n        this.categorySort = newSort;\n    },\n\n    // BookInCategory\n\n    addBookInCategory(name, isbn) {\n        const newCategory = this.category;\n        newCategory[name].unshift(isbn);\n        this.category = newCategory;\n    },\n\n    hasBookInCategory(name, isbn) {\n        return this.category[name].includes(isbn);\n    },\n\n    removeBookInCategory(name, isbn) {\n        const newCategory = this.category;\n        const index = newCategory[name].indexOf(isbn);\n        if (index !== -1) {\n            newCategory[name].splice(index, 1);\n            this.category = newCategory;\n        }\n    },\n\n    // Book Size\n    getBookSizeInCategory() {\n        return Object.values(store.category).reduce(\n            (sum, currentArray: string[]) => sum + currentArray.length,\n            0\n        );\n    },\n\n    // Library\n\n    addLibrary(code, name) {\n        const newLibries = this.libraries;\n        newLibries[code] = name;\n        this.libraries = newLibries;\n    },\n\n    removeLibrary(code) {\n        const newLibries = this.libraries;\n        delete newLibries[code];\n        this.libraries = newLibries;\n    },\n\n    hasLibrary(code) {\n        return code in this.libraries;\n    },\n\n    // Region\n\n    addRegion(name: string) {\n        const newRegion = this.regions;\n        newRegion[name] = {};\n        this.regions = newRegion;\n    },\n\n    removeRegion(name: string) {\n        const newRegions = this.regions;\n        delete newRegions[name];\n        this.regions = newRegions;\n    },\n\n    addDetailRegion(regionName, detailName, detailCode) {\n        const newRegions = this.regions;\n        newRegions[regionName][detailName] = detailCode;\n        this.regions = newRegions;\n    },\n\n    removeDetailRegion(regionName, detailName) {\n        const newRegions = this.regions;\n        delete newRegions[regionName][detailName];\n        this.regions = newRegions;\n    },\n};\n\nexport default store;\n", "import store from \"../modules/store\";\n\nexport default class NavGnb extends HTMLElement {\n    PATHS: string[];\n\n    constructor() {\n        super();\n\n        this.PATHS = [\n            \"/search\",\n            \"/favorite\",\n            \"/popular\",\n            \"/library\",\n            \"/setting\",\n        ];\n    }\n\n    connectedCallback() {\n        this.render();\n        this.setSelectedMenu();\n    }\n\n    protected render() {\n        const paths = this.PATHS;\n        this.innerHTML = `\n            <nav class=\"gnb\">\n                <a class=\"gnb-item\" href=\".${paths[0]}\">\uCC45 \uAC80\uC0C9</a>\n                <a class=\"gnb-item\" href=\".${\n                    paths[1]\n                }\">\uB098\uC758 \uCC45 (<span class=\"size\">${store.getBookSizeInCategory()}</span>)</a>\n                <a class=\"gnb-item\" href=\".${paths[2]}\">\uC778\uAE30\uB300\uCD9C\uB3C4\uC11C</a>\n                <a class=\"gnb-item\" href=\".${paths[3]}\">\uB3C4\uC11C\uAD00 \uC870\uD68C</a>\n                <a class=\"gnb-item\" href=\".${paths[4]}\">\uC124\uC815</a>\n            </nav>`;\n    }\n\n    protected setSelectedMenu(): void {\n        const idx = this.PATHS.indexOf(document.location.pathname);\n        if (idx >= 0) this.querySelectorAll(\"a\")[idx].ariaSelected = \"true\";\n    }\n}\n", "const cloneDeep = <T>(obj: T): T => {\n    return JSON.parse(JSON.stringify(obj));\n};\n\nconst initialState: IStorageData = {\n    libraries: {},\n    regions: {},\n    category: {},\n    categorySort: [],\n};\n\nconst storageKey = \"BookWorld\";\n\nconst setState = (newState: IStorageData) => {\n    try {\n        localStorage.setItem(storageKey, JSON.stringify(newState));\n    } catch (error) {\n        console.error(error);\n    }\n    // console.log(newState)\n    // console.log([...newState.favoriteBooks])\n    // console.log([...Object.values(newState.libraries)])\n};\n\nconst getState = (): IStorageData => {\n    try {\n        const storedState = localStorage.getItem(storageKey);\n        if (storedState == null) {\n            setState(initialState);\n            return initialState;\n        }\n        return cloneDeep(JSON.parse(storedState));\n    } catch (error) {\n        console.error(error);\n        throw new Error(\"Failed to get state from localStorage.\");\n    }\n};\n\nconst state: IStorageData = getState();\n\nconst addLibrary = (code: string, name: string): void => {\n    state.libraries[code] = name;\n    setState(state);\n};\n\nconst removeLibrary = (code: string): void => {\n    delete state.libraries[code];\n    setState(state);\n};\n\nconst hasLibrary = (code: string): boolean => {\n    return code in state.libraries;\n};\n\nconst addRegion = (regionName: string): void => {\n    state.regions[regionName] = {};\n    setState(state);\n};\n\nconst removeRegion = (regionName: string): void => {\n    delete state.regions[regionName];\n    setState(state);\n};\n\nconst addDetailRegion = (\n    regionName: string,\n    detailName: string,\n    detailCode: string\n): void => {\n    state.regions[regionName][detailName] = detailCode;\n    setState(state);\n};\n\nconst removeDetailRegion = (regionName: string, detailName: string): void => {\n    delete state.regions[regionName][detailName];\n    setState(state);\n};\n\nconst addCategory = (name: string): void => {\n    state.category[name] = [];\n    state.categorySort.push(name);\n    setState(state);\n};\n\nconst hasCategory = (name: string): boolean => {\n    return name in state.category;\n};\n\nconst renameCategory = (name: string, newName: string) => {\n    const index = state.categorySort.indexOf(name);\n    state.categorySort[index] = newName;\n\n    state.category[newName] = state.category[name];\n    delete state.category[name];\n\n    setState(state);\n};\n\nconst deleteCategory = (name: string) => {\n    state.categorySort = state.categorySort.filter((item) => item !== name);\n\n    delete state.category[name];\n    setState(state);\n};\n\nconst changeCategory = (draggedKey: string, targetKey: string) => {\n    const draggedIndex = state.categorySort.indexOf(draggedKey);\n    const targetIndex = state.categorySort.indexOf(targetKey);\n    const sortData = [...state.categorySort];\n    sortData[targetIndex] = draggedKey;\n    sortData[draggedIndex] = targetKey;\n\n    state.categorySort = sortData;\n\n    setState(state);\n};\n\nconst addBookInCategory = (name: string, isbn: string) => {\n    state.category[name].unshift(isbn);\n    setState(state);\n};\n\nconst hasBookInCategory = (name: string, isbn: string) => {\n    return state.category[name].includes(isbn);\n};\n\nconst removeBookInCategory = (name: string, isbn: string) => {\n    const index = state.category[name].indexOf(isbn);\n    if (index !== -1) {\n        state.category[name].splice(index, 1);\n        setState(state);\n    }\n};\n\nconst getBookSizeInCategory = () => {\n    function getTotalItemCount(data: ICategoryData) {\n        return Object.values(data).reduce(\n            (sum, currentArray: string[]) => sum + currentArray.length,\n            0\n        );\n    }\n    return getTotalItemCount(state.category);\n};\n\nexport {\n    state,\n    setState,\n    getState,\n    addLibrary,\n    removeLibrary,\n    hasLibrary,\n    addRegion,\n    removeRegion,\n    addDetailRegion,\n    removeDetailRegion,\n    addCategory,\n    hasCategory,\n    renameCategory,\n    deleteCategory,\n    changeCategory,\n    addBookInCategory,\n    hasBookInCategory,\n    removeBookInCategory,\n    getBookSizeInCategory,\n};\n", "import { getBookSizeInCategory } from \"./model\";\n\nexport const updateBookSizeInCategor = () => {\n    const navElement = document.querySelector(\"nav-gnb\") as HTMLElement;\n    (navElement.querySelector(\".size\") as HTMLElement).textContent = String(\n        getBookSizeInCategory()\n    );\n};\n", "import { updateBookSizeInCategor } from \"../modules/events\";\nimport store from \"../modules/store\";\n\nexport default class CategorySelector extends HTMLElement {\n    protected isbn: string | null;\n    button: HTMLButtonElement | null;\n\n    constructor() {\n        super();\n\n        this.isbn = this.getISBN();\n        this.button = null;\n\n        this.onClickCategory = this.onClickCategory.bind(this);\n    }\n\n    connectedCallback() {\n        this.render();\n    }\n\n    protected render() {\n        const button = this.createButton();\n        const container = this.createContainer();\n\n        this.button = button;\n\n        this.appendChild(container);\n        this.appendChild(button);\n\n        this.button?.addEventListener(\"click\", this.onClickCategory);\n    }\n\n    createButton() {\n        const button = document.createElement(\"button\");\n        button.className = \"category-button\";\n        button.textContent = \"Category\";\n        return button;\n    }\n\n    onClickCategory() {\n        const el = this.querySelector(\".category\") as HTMLElement;\n        el.hidden = !el.hidden;\n    }\n\n    private getISBN(): string | null {\n        const isbnElement = this.closest(\"[data-isbn]\") as HTMLElement;\n        return isbnElement && isbnElement.dataset.isbn\n            ? isbnElement.dataset.isbn\n            : null;\n    }\n\n    private createContainer() {\n        const container = document.createElement(\"div\");\n        container.className = \"category\";\n        container.hidden = true;\n        store.categorySort.forEach((category: string) =>\n            this.createCategoryItem(container, category, this.isbn || \"\")\n        );\n        return container;\n    }\n\n    private createCategoryItem = (\n        container: HTMLElement,\n        category: string,\n        ISBN: string\n    ) => {\n        const label = document.createElement(\"label\");\n        const checkbox = this.createCheckbox(category, ISBN);\n        const span = document.createElement(\"span\");\n        span.textContent = category;\n\n        label.appendChild(checkbox);\n        label.appendChild(span);\n\n        container.appendChild(label);\n        return container;\n    };\n\n    private createCheckbox(category: string, ISBN: string) {\n        const checkbox = document.createElement(\"input\");\n        checkbox.type = \"checkbox\";\n        if (store.hasBookInCategory(category, ISBN)) {\n            checkbox.checked = true;\n        }\n\n        checkbox.addEventListener(\"change\", () =>\n            this.onChange(checkbox, category, ISBN)\n        );\n\n        return checkbox;\n    }\n\n    private onChange(\n        checkbox: HTMLInputElement,\n        category: string,\n        ISBN: string\n    ) {\n        const isBookInCategory = store.hasBookInCategory(category, ISBN);\n\n        if (isBookInCategory) {\n            store.removeBookInCategory(category, ISBN);\n        } else {\n            store.addBookInCategory(category, ISBN);\n        }\n\n        checkbox.checked = !isBookInCategory;\n        updateBookSizeInCategor();\n    }\n}\n", "export function getCurrentDates() {\n    const currentDate = new Date();\n    const currentYear = currentDate.getFullYear();\n    const currentMonth = String(currentDate.getMonth() + 1).padStart(2, \"0\");\n    const currentDay = String(currentDate.getDate()).padStart(2, \"0\");\n\n    return {\n        currentDate,\n        currentYear,\n        currentMonth,\n        currentDay,\n    };\n}\n\nexport function cloneTemplate<T extends HTMLElement>(\n    template: HTMLTemplateElement\n) {\n    const content = template.content.firstElementChild;\n    if (!content) {\n        throw new Error(\"Template content is empty\");\n    }\n    return content.cloneNode(true) as T;\n}\n\nexport function fillElementsWithData<T>(data: T, container: HTMLElement) {\n    Object.entries(data as Record<string, number>).forEach(([key, value]) => {\n        const element = container.querySelector(`.${key}`) as HTMLElement;\n        element.textContent = String(value);\n    });\n}\n", "// import { BookImage } from \"../../components/index\";\nimport { CustomEventEmitter, CustomFetch } from \"../../utils\";\nimport { cloneTemplate, getCurrentDates } from \"../../utils/helpers\";\n\nexport default class Popular extends HTMLElement {\n    itemTemplate: HTMLTemplateElement | null;\n    body: HTMLHtmlElement | null;\n    list: HTMLElement | null;\n    loading: HTMLElement | null;\n    params: IPopularFetchParams | null;\n\n    constructor() {\n        super();\n\n        this.itemTemplate = document.querySelector(\"#tp-popular-item\");\n        this.body = this.querySelector(\".popular-body\");\n        this.list = this.querySelector(\".popular-list\");\n        this.loading = document.querySelector(\".popular-loading\");\n        this.onRequestPopular = this.onRequestPopular.bind(this);\n        this.onClickPageNav = this.onClickPageNav.bind(this);\n        this.params = null;\n\n        // console.log(BookImage);\n    }\n\n    connectedCallback() {\n        const { currentYear, currentMonth, currentDay } = getCurrentDates();\n        const params = {\n            startDt: \"2023-01-01\",\n            endDt: `${currentYear}-${currentMonth}-${currentDay}`,\n            gender: \"\",\n            age: \"\",\n            region: \"\",\n            addCode: \"\",\n            kdc: \"\",\n            pageNo: \"1\",\n            pageSize: \"100\",\n        };\n        this.params = params;\n\n        this.fetch(params);\n\n        CustomEventEmitter.add(\n            \"requestPopular\",\n            this.onRequestPopular as EventListener\n        );\n\n        CustomEventEmitter.add(\n            \"clickPageNav\",\n            this.onClickPageNav as EventListener\n        );\n    }\n\n    disconnectedCallback() {\n        CustomEventEmitter.remove(\n            \"requestPopular\",\n            this.onRequestPopular as EventListener\n        );\n        CustomEventEmitter.remove(\n            \"clickPageNav\",\n            this.onClickPageNav as EventListener\n        );\n    }\n\n    async fetch(params: IPopularFetchParams): Promise<void> {\n        if (this.body && this.list) {\n            this.body.dataset.loading = \"true\";\n            this.list.innerHTML = \"\";\n        }\n\n        const searchParams = new URLSearchParams(\n            Object.entries(params)\n                .filter(([, value]) => value !== undefined)\n                .map(([key, value]) => [key, String(value)])\n        );\n\n        const url = `/popular-book?${searchParams}`;\n\n        try {\n            const data = await CustomFetch.fetch<IPopularBookResponse>(url);\n            this.render(data);\n\n            if (params.pageNo === \"1\") {\n                CustomEventEmitter.dispatch(\"renderPageNav\", {\n                    pageSize: params.pageSize,\n                });\n            }\n        } catch (error) {\n            console.error(error);\n            throw new Error(`Fail to get library search by book.`);\n        }\n    }\n\n    render({ data, resultNum }: IPopularBookResponse) {\n        if (!this.list) return;\n\n        console.log(resultNum);\n\n        const fragment = new DocumentFragment();\n\n        data.map((item) => {\n            const cloned = this.createItem(item);\n            cloned && fragment.appendChild(cloned);\n        });\n\n        this.list.appendChild(fragment);\n\n        if (this.body) {\n            this.body.dataset.loading = \"false\";\n        }\n    }\n\n    createItem(item: IPopularBook) {\n        const {\n            // addition_symbol,\n            bookImageURL,\n            // bookname,\n            bookDtlUrl,\n\n            ...otherData\n\n            // authors,  class_nm, isbn13, class_no, loan_count,  no,  publication_year,  publisher, ranking, vol,\n        } = item;\n\n        const isbn = item.isbn13;\n        const bookname = item.bookname;\n\n        if (this.itemTemplate === null) {\n            throw new Error(\"Template is null\");\n        }\n        const cloned = cloneTemplate(this.itemTemplate);\n\n        cloned.dataset.isbn = isbn;\n\n        const imageNode = cloned.querySelector(\"img\");\n        if (imageNode) {\n            imageNode.src = bookImageURL;\n            imageNode.alt = bookname;\n        }\n\n        const bookDtlUrlNode = cloned.querySelector(\n            \".bookDtlUrl\"\n        ) as HTMLAnchorElement;\n        if (bookDtlUrlNode) {\n            bookDtlUrlNode.href = bookDtlUrl;\n        }\n\n        Object.entries(otherData).forEach(([key, value]) => {\n            const element = cloned.querySelector(`.${key}`) as HTMLElement;\n            if (element) element.textContent = value as string;\n        });\n\n        const anchorEl = cloned.querySelector(\"a\") as HTMLAnchorElement;\n        if (anchorEl) anchorEl.href = `/book?isbn=${isbn}`;\n\n        return cloned;\n    }\n\n    onRequestPopular(event: ICustomEvent<{ params: IPopularFetchParams }>) {\n        const { params } = event.detail;\n        this.params = params;\n        this.fetch(params);\n    }\n\n    onClickPageNav(event: ICustomEvent<{ pageIndex: number }>) {\n        const { pageIndex } = event.detail;\n\n        if (this.params) {\n            this.params.pageNo = pageIndex.toString();\n            this.fetch(this.params);\n        }\n    }\n}\n", "import { CustomEventEmitter } from \"../../utils\";\nimport { getCurrentDates } from \"../../utils/helpers\";\n\nexport default class PopularHeader extends HTMLElement {\n    form: HTMLFormElement | null;\n    filterButton: HTMLButtonElement | null;\n    closeButton: HTMLButtonElement | null;\n    startDateInput: HTMLInputElement | null;\n    endDateInput: HTMLInputElement | null;\n    detailRegion: HTMLInputElement | null;\n    subRegion: HTMLInputElement | null;\n    detailSubject: HTMLInputElement | null;\n    subSubject: HTMLInputElement | null;\n    pageNav: HTMLElement | null;\n    pageSize: number | null;\n\n    constructor() {\n        super();\n\n        this.form = this.querySelector(\"form\");\n        this.filterButton = this.querySelector(\".filterButton\");\n        this.closeButton = this.querySelector(\".closeButton\");\n        this.startDateInput = this.querySelector(\"input[name='startDt']\");\n        this.endDateInput = this.querySelector(\"input[name='endDt']\");\n        this.detailRegion = this.querySelector(\"[name='detailRegion']\");\n        this.subRegion = this.querySelector(\".subRegion\");\n        this.detailSubject = this.querySelector(\"[name='detailKdc']\");\n        this.subSubject = this.querySelector(\".subSubject\");\n        this.pageNav = this.querySelector(\".page-nav\");\n        this.pageSize = null;\n\n        this.onRenderPageNav = this.onRenderPageNav.bind(this);\n        this.onClickPageNav = this.onClickPageNav.bind(this);\n    }\n\n    connectedCallback() {\n        if (!this.form) return;\n\n        this.initialLoanDuration();\n\n        this.filterButton?.addEventListener(\"click\", this.onClickFilterButton);\n        this.closeButton?.addEventListener(\"click\", this.closeForm);\n\n        this.form.addEventListener(\"change\", this.onChangeForm);\n\n        this.form.addEventListener(\"reset\", this.onReset);\n\n        this.form.addEventListener(\"submit\", this.onSumbit);\n\n        CustomEventEmitter.add(\n            \"renderPageNav\",\n            this.onRenderPageNav as EventListener\n        );\n    }\n\n    disconnectedCallback() {\n        if (!this.form) return;\n\n        this.filterButton?.removeEventListener(\n            \"click\",\n            this.onClickFilterButton\n        );\n\n        this.form.removeEventListener(\"change\", this.onChangeForm);\n\n        this.form.removeEventListener(\"reset\", this.onReset);\n\n        this.form.removeEventListener(\"submit\", this.onSumbit);\n\n        CustomEventEmitter.remove(\n            \"renderPageNav\",\n            this.onRenderPageNav as EventListener\n        );\n    }\n\n    closeForm = () => {\n        if (!this.form) return;\n        this.form.hidden = true;\n    };\n\n    onRenderPageNav = (event: ICustomEvent<{ pageSize: number }>) => {\n        if (!this.pageNav) return;\n\n        const { pageSize } = event.detail;\n        this.pageSize = pageSize;\n\n        this.pageNav.innerHTML = \"\";\n\n        const fragment = new DocumentFragment();\n        const navSize = 3;\n        for (let i = 0; i < navSize; i++) {\n            const el = this.createNavItem(i) as HTMLButtonElement;\n            fragment.appendChild(el);\n        }\n\n        this.pageNav.appendChild(fragment);\n        this.pageNav.hidden = false;\n\n        this.insertBefore(this.pageNav, this.filterButton);\n    };\n\n    createNavItem(index: number) {\n        if (!this.pageSize) return;\n\n        const pageSize = this.pageSize;\n        const el = document.createElement(\"button\");\n        el.type = \"button\";\n        el.value = index.toString();\n        el.textContent = `${pageSize * index + 1} ~ ${pageSize * (index + 1)}`;\n\n        if (index === 0) el.ariaSelected = \"true\";\n\n        el.addEventListener(\"click\", this.onClickPageNav);\n        return el;\n    }\n\n    onClickPageNav = (event: Event) => {\n        const target = event.target as HTMLButtonElement;\n        if (!target || !this.pageNav) return;\n\n        const targeted = this.pageNav.querySelector(\"[aria-selected=true]\");\n        if (targeted) {\n            targeted.ariaSelected = \"false\";\n        }\n        target.ariaSelected = \"true\";\n\n        if (this.pageNav.lastChild === target) {\n            const el = this.createNavItem(\n                Number(target.value) + 1\n            ) as HTMLButtonElement;\n            this.pageNav.appendChild(el);\n        }\n\n        CustomEventEmitter.dispatch(\"clickPageNav\", {\n            pageIndex: Number(target.value) + 1,\n        });\n    };\n\n    onClickFilterButton = () => {\n        if (!this.form) return;\n        this.form.hidden = !this.form.hidden;\n    };\n\n    onChangeForm = (event: Event) => {\n        const target = event.target as HTMLInputElement;\n\n        switch (target.name) {\n            case \"loanDuration\":\n                this.handleLoanDuration(event);\n                break;\n            case \"gender\":\n                this.handleGender(target);\n                break;\n            case \"age\":\n                this.handleAge(target);\n                break;\n            case \"region\":\n                this.handleRegion(target);\n                break;\n            case \"detailRegion\":\n                this.handleDetailRegion(target);\n                break;\n            case \"addCode\":\n                this.handleAddCode(target);\n                break;\n            case \"kdc\":\n                this.handleSubject(target);\n                break;\n            case \"detailKdc\":\n                this.handleDetailSubject(target);\n                break;\n        }\n    };\n\n    handleGender(target: HTMLInputElement) {\n        if (!(target.value === \"A\")) {\n            const elA = this.querySelector(\n                \"input[name='gender'][value='A']\"\n            ) as HTMLInputElement;\n\n            elA.checked = false;\n        }\n\n        if (target.value === \"A\") {\n            const els = this.querySelectorAll<HTMLInputElement>(\n                \"input[type='checkbox'][name='gender']\"\n            );\n\n            els.forEach((item) => (item.checked = false));\n        }\n    }\n\n    handleAge(target: HTMLInputElement) {\n        if (!(target.value === \"A\")) {\n            const elA = this.querySelector(\n                \"input[name='age'][value='A']\"\n            ) as HTMLInputElement;\n\n            elA.checked = false;\n        }\n\n        if (target.value === \"A\") {\n            const els = this.querySelectorAll<HTMLInputElement>(\n                \"input[type='checkbox'][name='age']\"\n            );\n\n            els.forEach((item) => (item.checked = false));\n        }\n    }\n\n    handleRegion(target: HTMLInputElement) {\n        const elA = this.querySelector(\n            \"input[name='region'][value='A']\"\n        ) as HTMLInputElement;\n\n        const els = this.querySelectorAll<HTMLInputElement>(\n            \"input[type='checkbox'][name='region']\"\n        );\n\n        if (!(target.value === \"A\")) {\n            elA.checked = false;\n        }\n\n        if (target.value === \"A\") {\n            els.forEach((item) => (item.checked = false));\n        }\n\n        const checkedEls = Array.from(\n            this.querySelectorAll<HTMLInputElement>('[name=\"region\"]:checked')\n        ).filter((el) => el.value !== \"A\");\n\n        if (this.detailRegion && this.subRegion) {\n            const isOnly = checkedEls.length === 1;\n            this.detailRegion.disabled = !isOnly;\n            if (this.detailRegion.checked) {\n                this.subRegion.hidden = !isOnly;\n            }\n        }\n    }\n\n    handleDetailRegion(target: HTMLInputElement) {\n        if (!this.subRegion) return;\n        this.subRegion.hidden = !target.checked;\n    }\n\n    handleAddCode(target: HTMLInputElement) {\n        if (!(target.value === \"A\")) {\n            const elA = this.querySelector(\n                \"input[name='addCode'][value='A']\"\n            ) as HTMLInputElement;\n\n            elA.checked = false;\n        }\n\n        if (target.value === \"A\") {\n            const els = this.querySelectorAll<HTMLInputElement>(\n                \"input[type='checkbox'][name='addCode']\"\n            );\n\n            els.forEach((item) => (item.checked = false));\n        }\n    }\n\n    handleSubject(target: HTMLInputElement) {\n        const elA = this.querySelector(\n            \"input[name='kdc'][value='A']\"\n        ) as HTMLInputElement;\n\n        const els = this.querySelectorAll<HTMLInputElement>(\n            \"input[type='checkbox'][name='kdc']\"\n        );\n\n        if (!(target.value === \"A\")) {\n            elA.checked = false;\n        }\n\n        if (target.value === \"A\") {\n            els.forEach((item) => (item.checked = false));\n        }\n\n        const checkedEls = Array.from(\n            this.querySelectorAll<HTMLInputElement>('[name=\"kdc\"]:checked')\n        ).filter((el) => el.value !== \"A\");\n\n        if (this.detailSubject && this.subSubject) {\n            const isOnly = checkedEls.length === 1;\n            this.detailSubject.disabled = !isOnly;\n            if (this.detailSubject.checked) {\n                this.subSubject.hidden = !isOnly;\n            }\n        }\n    }\n\n    handleDetailSubject(target: HTMLInputElement) {\n        if (!this.subSubject) return;\n        this.subSubject.hidden = !target.checked;\n    }\n\n    handleLoanDuration(event?: Event) {\n        if (!this.startDateInput || !this.endDateInput) {\n            return;\n        }\n\n        const { currentDate, currentYear, currentMonth, currentDay } =\n            getCurrentDates();\n\n        const target = event?.target as HTMLInputElement;\n\n        switch (target?.value) {\n            case \"year\":\n                this.initialLoanDuration();\n                break;\n            case \"month\": {\n                this.startDateInput.value = `${currentYear}-${currentMonth}-01`;\n                this.endDateInput.value = `${currentYear}-${currentMonth}-${currentDay}`;\n                break;\n            }\n            case \"week\": {\n                const startOfWeek = new Date(currentDate);\n                startOfWeek.setDate(\n                    currentDate.getDate() - currentDate.getDay()\n                );\n                const startWeekYear = startOfWeek.getFullYear();\n                const startWeekMonth = String(\n                    startOfWeek.getMonth() + 1\n                ).padStart(2, \"0\");\n                const startWeekDay = String(startOfWeek.getDate()).padStart(\n                    2,\n                    \"0\"\n                );\n                this.startDateInput.value = `${startWeekYear}-${startWeekMonth}-${startWeekDay}`;\n                this.endDateInput.value = `${currentYear}-${currentMonth}-${currentDay}`;\n                break;\n            }\n            case \"custom\":\n                break;\n        }\n\n        this.querySelector(\".dateRange\")?.addEventListener(\"click\", () => {\n            const customDateInput = this.querySelector(\n                \"input[name='loanDuration'][value='custom']\"\n            ) as HTMLInputElement;\n            customDateInput.checked = true;\n        });\n    }\n\n    initialLoanDuration() {\n        if (!this.startDateInput || !this.endDateInput) return;\n\n        const { currentDate, currentMonth, currentDay } = getCurrentDates();\n\n        this.startDateInput.value = `${currentDate.getFullYear()}-01-01`;\n        this.endDateInput.value = `${currentDate.getFullYear()}-${currentMonth}-${currentDay}`;\n    }\n\n    onReset = () => {\n        setTimeout(() => {\n            this.initialLoanDuration();\n        }, 100);\n    };\n\n    onSumbit = (event: Event) => {\n        event.preventDefault();\n        if (!this.form) return;\n\n        const formData = new FormData(this.form);\n\n        const params: Partial<IPopularFetchParams> = {};\n        const skipKeys = [\"dataSource\", \"loanDuration\", \"subKdc\", \"subRegion\"];\n        params[\"pageNo\"] = \"1\";\n\n        for (const [key, value] of formData.entries()) {\n            if (skipKeys.includes(key) || typeof value !== \"string\") continue;\n\n            const paramKey = key as keyof IPopularFetchParams;\n\n            if (value === \"A\") {\n                params[paramKey] = \"\";\n            } else if (params[paramKey]) {\n                params[paramKey] += `;${value}`;\n            } else {\n                params[paramKey] = value;\n            }\n        }\n\n        CustomEventEmitter.dispatch(\"requestPopular\", {\n            params,\n        });\n\n        this.closeForm();\n    };\n}\n", "import { NavGnb, CategorySelector } from \"../../components/index\";\n\nimport Popular from \"./Popular\";\nimport PopularHeader from \"./PopularHeader\";\n\ncustomElements.define(\"nav-gnb\", NavGnb);\ncustomElements.define(\"app-popular\", Popular);\ncustomElements.define(\"popular-header\", PopularHeader);\ncustomElements.define(\"category-selector\", CategorySelector);\n"],
  "mappings": "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",
  "names": ["document", "IntersectionObserver", "win", "frame", "state", "cloneDeep", "initialState"]
}
